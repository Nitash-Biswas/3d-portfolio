<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Portfolio</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <!-- Include the CSS file -->

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/boxicons@latest/css/boxicons.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Londrina+Solid:wght@100;300;400&family=Roboto:wght@500&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/gh/kripken/ammo.js@HEAD/builds/ammo.wasm.js"></script>
  </head>

  <body>
    <div class="loader">
      <div class="loader-content">
        <img src="public/art/controls.png" />
        <h2>Use WASD or Joystick to Control</h2>
      </div>
    </div>

    <!-- scrollreveal effect -->
    <script src="https://unpkg.com/scrollreveal"></script>

    <div id="scene"></div>
    <!-- Color Overlay -->
    <canvas id="bg"></canvas>
    <!-- 3d scene  -->
    <script type="module" src="./3d2.js"></script>
    <!-- 3d scene code -->

    <!-- Joystick container -->
    <div id="joystick"></div>

    <header id="header">
      <a
        onclick="scrollToSection('header', 300)"
        class="logo"
        id="logo"
        style="cursor: pointer"
        >Nb.</a
      >

      <div class="nav-container">
        <ul class="navlist">
          <li>
            <a onclick="scrollToSection('about', 300),toggleMenu()">About</a>
          </li>
          <li>
            <a onclick="scrollToSection('projects', 300),toggleMenu()"
              >Projects</a
            >
          </li>
          <li>
            <a onclick="scrollToSection('skills', 300),toggleMenu()">Skills</a>
          </li>
          <li>
            <a onclick="scrollToSection('contact', 300),toggleMenu()"
              >Contact</a
            >
          </li>
        </ul>
      </div>

      <div class="bx bx-menu" id="menu-icon">
        <div class="circle"></div>
      </div>
    </header>

    <section class="hero" id="hero">
      <div class="hero-text">
        <h7>Hi, I am</h7>
        <h1>Nitash Biswas</h1>
        <h2>Developer.Illustrator.Designer.</h2>
        <div >
          <a class="cv"
              href="https://drive.google.com/file/d/1zQB2piIiHPvYBMWqOO_xbRmnFubt5rD4/view?usp=sharing"
              target="_blank"
              >Download CV</a
            >
        </div>
      </div>

      <div class="hero-img">
        <!-- <img src="1.png"> -->
      </div>

      <div class="vertical-navbar">
        <a href="https://www.instagram.com/nitashbiswas/" target="_blank"
          ><i class="fa fa-instagram"></i
        ></a>
        <a href="https://www.linkedin.com/in/nitash-biswas/" target="_blank"
          ><i class="fa fa-linkedin-square"> </i
        ></a>
        <a href="https://github.com/Nitash-Biswas" target="_blank"
          ><i class="fa fa-github"></i
        ></a>
      </div>
    </section>

    <!-- <div class="swipe">
    <h8 onclick="scrollToSection('about', 300)">Scroll down</h8>
    <div class="dart"></div>
  </div> -->

    <button class="music">
      <i class="ri-volume-mute-fill"></i>
    </button>

    <section id="about">
      <h3>üë©üèΩ‚ÄçüöÄ About Me</h3>

      <p>
        I'm Nitash Biswas, a Computer Engineering student at NSUT. I'm
        passionate about coding, game development, illustration, and design.
        <br />
        With a knack for creativity and technology, I enjoy bringing ideas to
        life through interactive experiences. Whether it's writing code or
        creating captivating visuals, I strive to make a meaningful impact in
        the digital realm.
      </p>
    </section>

    <section id="projects">
      <div class="projects-wrapper">
        <div class="projects-heading">
          <h3>üë©üèΩ‚Äçüíª Projects</h3>
          <h4>Illustrations</h4>
        </div>

        <div class="projects-container">
          <div class="project">
            <img src="public/art/1.png" alt="Project 1" />
            <div class="overlay">
              <div class="text">1.Spiderman 2099</div>
            </div>
          </div>

          <div class="project">
            <img src="public/art/2.png" alt="Project 2" />
            <div class="overlay">
              <div class="text">2.Lady at the Window</div>
            </div>
          </div>

          <div class="project">
            <img src="public/art/3.png" alt="Project 3" />
            <div class="overlay">
              <div class="text">3.Lakeside</div>
            </div>
          </div>

          <div class="project">
            <img src="public/art/4.png" alt="Project 4" />
            <div class="overlay">
              <div class="text">4.Autumn Bliss</div>
            </div>
          </div>

          <div class="project">
            <img src="public/art/5.png" alt="Project 5" />
            <div class="overlay">
              <div class="text">5.Evening Stroll</div>
            </div>
          </div>
          <!-- Add more project items as needed -->
        </div>
      </div>
    </section>

    <section id="skills">
      <blockquote>
        <p>Get things done !!</p>
      </blockquote>
      <h3>üåÆ Skills</h3>

      <h4>Programming</h4>
      <p>C++, Python</p>
      <h4>Web Development</h4>
      <p>HTML, CSS, Javascript, React, ThreeJs</p>
      <h4>Design</h4>
      <p>Photoshop, Illustrator, Figma</p>
      <h4>Game Development</h4>
      <p>Blender, Unity, Unreal Engine</p>
    </section>

    <section id="contact">
      <blockquote>
        <p>Thanks for watching!</p>
      </blockquote>

      <h3>‚úâÔ∏è Contact</h3>
      <br />

      <h2>Send me a message!</h2>

      <form
        class="contact-title"
        id="myform"
        action="https://formsubmit.co/nitash.nb@gmail.com"
        method="POST"
      >
        <div class="formbox">
          <input type="text" name="name" placeholder="Your Name" required />
        </div>

        <div class="formbox">
          <input
            type="email"
            name="email"
            placeholder="Your Email Id"
            required
          />
        </div>

        <div class="formbox">
          <textarea
            cols="30"
            rows="5"
            name="msg"
            placeholder="Write your message"
            required
          ></textarea>
        </div>

        <div class="form-box">
          <button class="btn" type="submit" id="submit">Submit</button>
        </div>
        <!-- Form result in table form -->
        <input type="hidden" name="_captcha" value="false" />
        <input type="hidden" name="_template" value="table" />
      </form>
    </section>

    <footer>
      <h5>&copy; 2023 Nitash Biswas. All rights reserved.</h5>
    </footer>

    <!--/////////Scrolling and Other Functions////////////////////////////////////////////////////////////////////////////////////////////////////////////////  -->
    <script>
      // Function to smoothly scroll to a section when clicking on a navigation item
      function scrollToSection(sectionId, duration) {
        const section = document.getElementById(sectionId);
        if (section) {
          const targetPosition = section.offsetTop;
          const startPosition = window.pageYOffset;
          const distance = targetPosition - startPosition;
          const startTime = performance.now();

          function scrollStep(timestamp) {
            const currentTime = timestamp || performance.now();
            const elapsedTime = currentTime - startTime;
            const scrollProgress = Math.min(elapsedTime / duration, 1);
            const scrollPosition = startPosition + distance * scrollProgress;

            window.scrollTo(0, scrollPosition);

            if (scrollProgress < 1) {
              window.requestAnimationFrame(scrollStep);
            }
          }

          window.requestAnimationFrame(scrollStep);
        }
      }

      // Handle form submission with AJAX to prevent email redirects
      document
        .getElementById("myform")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent default form submission

          var form = event.target;
          var formData = new FormData(form); // Create FormData object from the form

          var xhr = new XMLHttpRequest(); // Create XMLHttpRequest object
          xhr.open("POST", form.action, true); // Set up the request

          xhr.onreadystatechange = function () {
            if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
              // Form submission successful, update the submit button text
              var submitButton = document.getElementById("submit");
              submitButton.textContent = "Message Sent üëç";
              submitButton.disabled = true;

              setTimeout(function () {
                // Re-enable the submit button and revert its text back to "Submit"
                submitButton.disabled = false;
                submitButton.textContent = "Submit";
              }, 5000);
            } else {
              // Form submission failed, handle the error
              console.log("Form submission failed");
            }
          };

          xhr.send(formData); // Send the form data via AJAX
        });

      // Toggle menu and music

      function toggleMenu() {
        let menu = document.querySelector("#menu-icon");
        let navlist = document.querySelector(".navlist");
        let circle = document.querySelector(".circle");

        menu.classList.toggle("bx-x");
        navlist.classList.toggle("open");
        circle.classList.toggle("open");

        if (menu.classList.contains("bx-x")) {
          menu.style.color = "#a1a1a1";
          menu.style.fontSize = "40px";
        } else {
          menu.style.color = "";
        }
      }

      let menu = document.querySelector("#menu-icon");
      menu.addEventListener("click", toggleMenu);

      const musicButton = document.querySelector(".music");
      const icon = musicButton.querySelector("i");
      const audio = new Audio("public/art/music.mp3"); // Replace with the actual audio file path

      musicButton.addEventListener("click", () => {
        icon.classList.toggle("ri-volume-up-line");
        icon.classList.toggle("ri-volume-mute-fill");

        if (icon.classList.contains("ri-volume-up-line")) {
          audio.loop = true;
          audio.play();
        } else {
          audio.pause();
        }
      });

      // Scrolling intro
      const sr = ScrollReveal({
        distance: "65px",
        duration: 2600,
        delay: 450,
        reset: true,
      });

      function revealAnimations() {
        sr.reveal(".hero-text", { delay: 100, origin: "top" });
        sr.reveal(".hero-img", { delay: 450, origin: "top" });
        sr.reveal(".vertical-navbar", {
          distance: "100px",
          delay: 400,
          origin: "left",
        });
        sr.reveal(".swipe", { distance: "100px", delay: 400, origin: "left" });
      }

      // // Call the revealAnimations function on page load
      window.addEventListener("load", revealAnimations);

      window.addEventListener("load", () => {
        setTimeout(() => {
          document.querySelector(".loader").classList.add("loader--hidden");
        }, 2000); // 2-second delay
      });

      function blurBG() {
        var section = document.getElementById("hero");
        var canvas = document.getElementById("bg");
        var rect = section.getBoundingClientRect();
        var scrollThreshold = section.offsetHeight / 2; // Half section height

        var scrollPosition =
          window.pageYOffset || document.documentElement.scrollTop;
        var isVisible = scrollPosition > rect.top + scrollThreshold;

        if (isVisible) {
          canvas.style.filter = "blur(20px)";
        } else {
          // Section is not scrolled beyond half
          canvas.style.filter = "none";
        }
      }

      window.addEventListener("scroll", blurBG);
    </script>
  </body>
</html>
